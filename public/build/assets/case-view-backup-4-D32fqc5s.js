import{L as Y}from"./index-CU3kptrY.js";import{j as T,r as p,o as d,c as _,a as t,g as e,F as b,i as C,w as s,f as h,t as m,b as a,n as V,e as I,p as G,k as K}from"./app-D0YmfmiQ.js";import{d as Q}from"./index.esm-DFiX2cTG.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-Bj-M8e4u.js";const X={layout:Y,components:{DocusealForm:Q},props:{caseDetails:{type:Object,required:!0},icdCodeDescription:{type:String,required:!0},cptCodeDescriptions:{type:Array,required:!0},referrals:{type:Array,required:!0},allCptCodes:{type:Array,required:!0}},data(){return{tabs:[{name:"patient",label:"Patient Information"},{name:"attorney",label:"Attorney Information"},{name:"billing",label:"Billing Information"},{name:"policy",label:"Policy Limit Information"},{name:"referrals",label:"Referrals"},{name:"cms",label:"CMS 1500 Form"}],activeTab:"patient",billingType:this.caseDetails.billing_type||"LOP",form:this.$inertia.form({cptCodes:this.caseDetails.cpt_codes?JSON.parse(this.caseDetails.cpt_codes):[]}),isModalOpen:!1,reductionAmount:null,reductionFile:null,isFormValid:!0,selectedReferralId:null,formData:null,savedFormId:null}},methods:{addCptCode(){this.form.cptCodes.push({code:null,value:0})},removeCptCode(l){this.form.cptCodes.splice(l,1)},async saveCase(){const l={billing_type:this.billingType,cpt_codes:JSON.stringify(this.form.cptCodes),is_cms1500_generated:this.billingType==="LOP"?1:0};try{const c=await T.post(route("panel.admin.newcase.updateBilling",{case:this.caseDetails.case_id}),l,{headers:{"Content-Type":"application/json"}});this.$toast().success("Billing information updated successfully."),this.$inertia.reload()}catch(c){this.$toast().error("Error updating billing information."),console.error("Error:",c.response?c.response.data:c.message)}},downloadCMS1500Form(){},markReferralComplete(l){this.$toast().success(`Referral #${l} marked as complete!`)},markReferralLost(l){this.$toast().info(`Referral #${l} marked as lost.`)},openReductionModal(l){this.selectedReferralId=l,this.isModalOpen=!0},closeReductionModal(){this.isModalOpen=!1,this.reductionAmount=null,this.reductionFile=null,this.selectedReferralId=null},async submitReduction(){if(this.isFormValid&&this.selectedReferralId){const l=new FormData;l.append("case_id",this.caseDetails.case_id),l.append("referral_id",this.selectedReferralId),l.append("amount",this.reductionAmount),l.append("referral_status","reduction_request_sent"),this.reductionFile&&l.append("file",this.reductionFile);try{const c=await T.post("/reduction-requests",l,{headers:{"Content-Type":"multipart/form-data"}});this.$toast().info("Reduction request sent successfully."),this.closeReductionModal(),this.$inertia.reload()}catch(c){this.$toast().error("Error sending reduction request."),console.error("Error:",c.response.data)}}},formatDate(l){if(!l)return"N/A";const c=new Date(l);return isNaN(c)?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(c)},getStatusBadgeClass(l){switch(l){case"pending":return"bg-yellow-500 text-white px-2 py-1 rounded text-sm";case"reduction_request_sent":return"bg-blue-500 text-white px-2 py-1 rounded text-sm";case"accepted":return"bg-green-500 text-white px-2 py-1 rounded text-sm";case"rejected":return"bg-red-500 text-white px-2 py-1 rounded text-sm";default:return"bg-gray-500 text-white px-2 py-1 rounded text-sm"}},getStatusText(l){switch(l){case"pending":return"Pending";case"reduction_request_sent":return"Reduction Request Sent";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},getDoctorDecisionBadgeClass(l){switch(l){case"pending":return"bg-yellow-500 text-white px-2 py-1 mb-2 rounded text-sm";case"accepted":return"bg-green-500 text-white px-2 py-1 mb-2 rounded text-sm";case"rejected":return"bg-red-500 text-white px-2 py-1 mb-2 rounded text-sm";default:return"bg-gray-500 text-white px-2 py-1 mb-2 rounded text-sm"}},getDoctorDecisionText(l){switch(l){case"pending":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";default:return"Unknown"}},async handleFormSubmit(l){this.formData=l,await this.saveFormToDatabase(l,"completed")},async handleFormSave(l){this.formData=l,await this.saveFormToDatabase(l,"draft")},async saveFormToDatabase(l,c){try{const n=await T.post(route("panel.admin.cases.saveForm",{case:this.caseDetails.case_id}),{form_data:l,status:c});n.data.success&&(this.savedFormId=n.data.form_id,this.$toast().success("Form saved successfully!"))}catch(n){this.$toast().error("Error saving form"),console.error("Error saving form:",n)}},async saveFormForLater(){this.formData?await this.saveFormToDatabase(this.formData,"draft"):this.$toast().warning("No form data to save")},async downloadFormPDF(){if(!this.savedFormId){this.$toast().warning("Please save the form first");return}try{const l=await T.get(route("panel.admin.cases.downloadForm",{case:this.caseDetails.case_id,form:this.savedFormId}),{responseType:"blob"}),c=new Blob([l.data],{type:"application/pdf"}),n=window.URL.createObjectURL(c),x=document.createElement("a");x.href=n,x.download=`CMS-1500-Form-${this.caseDetails.case_id}.pdf`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(n),this.$toast().success("Form downloaded successfully!")}catch(l){this.$toast().error("Error downloading form"),console.error("Error downloading form:",l)}}}},g=l=>(G("data-v-04e7531b"),l=l(),K(),l),Z={class:"h-full space-y-6"},$={class:"bg-dark shadow-sm rounded-lg p-6 pb-8"},ee=g(()=>e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Case View",-1)),te={class:"flex space-x-4 border-b pb-3"},se=["onClick"],oe={class:"bg-white shadow-sm rounded-lg p-6"},ae={key:0},le=g(()=>e("div",{class:"flex items-center gap-2 text-xl font-semibold text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("span",{class:"text-primary-500"},"Patient Information")],-1)),re={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6"},ne={class:"flex items-center gap-3"},ie={class:"flex items-center gap-3"},de=g(()=>e("svg",{class:"w-5 h-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 12H8m8 0a4 4 0 00-8 0m8 0a4 4 0 01-8 0m8 0V9a3 3 0 00-6 0v3m6 0a3 3 0 11-6 0"})],-1)),ce={class:"flex items-start gap-3 col-span-2"},ue=g(()=>e("svg",{class:"w-5 h-5 text-gray-600 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 2C8.134 2 5 5.134 5 9c0 4.656 7 11 7 11s7-6.344 7-11c0-3.866-3.134-7-7-7zM12 11a2 2 0 110-4 2 2 0 010 4z"})],-1)),me={key:1,class:"bg-white shadow-md rounded-lg p-6"},_e=g(()=>e("div",{class:"flex items-center gap-2 border-b pb-3 mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("h2",{class:"text-lg font-semibold text-gray-700"},"Attorney Information")],-1)),pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},fe={class:"text-base font-medium text-gray-800"},ge={class:"flex flex-col gap-2 text-gray-600"},he={class:"text-sm"},ve=g(()=>e("span",{class:"font-medium text-gray-700"},"Email:",-1)),ye={key:2},xe={class:"bg-white rounded-lg shadow-md p-6"},be=g(()=>e("div",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("span",{class:"text-primary-500"},"Billing"),a(" Information ")],-1)),we={class:"mt-4"},ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ce={class:"flex flex-col gap-1"},De={key:0},Fe={class:"list-disc pl-5"},Ae={class:"mt-6"},Te={key:0,class:"mt-6"},Ve={key:0,class:"text-gray-500 mb-4"},Ie={class:"mt-6"},Se={key:3},Me={class:"bg-white rounded-lg shadow-md p-6"},Ne=g(()=>e("div",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("span",{class:"text-primary-500"},"Policy Limit"),a(" Information ")],-1)),Re={class:"mt-6"},Be={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Pe={class:"flex flex-col gap-3"},Le={class:"bg-gray-50 p-4 rounded-lg"},je={class:"bg-gray-50 p-4 rounded-lg"},Ue={class:"bg-gray-50 p-4 rounded-lg"},Oe={class:"flex flex-col gap-3"},qe={class:"bg-gray-50 p-4 rounded-lg"},Ee={class:"bg-gray-50 p-4 rounded-lg"},ze={class:"bg-gray-50 p-4 rounded-lg"},He={key:4},Je=g(()=>e("div",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("span",{class:"text-primary-500"},"Referrals")],-1)),Ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},Ge={class:"flex flex-col gap-2"},Ke={key:1,class:"text-gray-500"},Qe={key:0,class:"mt-4"},We=["href"],Xe={class:"flex gap-2 mt-2"},Ze=g(()=>e("span",{class:"headline"},"Send for Reduction",-1)),$e=g(()=>e("span",{class:"text-dark-500 italic"},"Amount for Reduction",-1)),et=g(()=>e("span",{class:"text-dark-500 italic"},"Upload Supporting File",-1)),tt={key:5},st=g(()=>e("div",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-primary-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),e("span",{class:"text-primary-500"},"CMS 1500 Form")],-1)),ot={class:"mt-4"},at={class:"mt-6 flex gap-4"};function lt(l,c,n,x,r,f){var B,P;const L=p("v-inertia-head"),w=p("v-section-heading"),j=p("v-avatar"),D=p("v-heading"),i=p("v-paragraph"),k=p("v-content-body"),M=p("v-card"),F=p("v-form-label"),N=p("v-form-select"),A=p("v-form-group"),S=p("v-form-input"),v=p("v-button"),U=p("v-link"),O=p("v-card-title"),q=p("v-form"),E=p("v-card-text"),R=p("v-btn"),z=p("v-card-actions"),H=p("v-dialog"),J=p("DocusealForm");return d(),_(b,null,[t(L,{title:"Case Details"}),e("div",Z,[e("div",$,[ee,e("nav",te,[(d(!0),_(b,null,C(r.tabs,o=>(d(),_("button",{key:o.name,onClick:u=>r.activeTab=o.name,class:V(["px-4 py-2 rounded-md text-sm font-medium focus:outline-none border",r.activeTab===o.name?"bg-primary-500 text-white border-primary-500 shadow-md":"text-gray-600 border-gray-300 hover:bg-gray-100"])},m(o.label),11,se))),128))])]),e("div",oe,[r.activeTab==="patient"?(d(),_("div",ae,[t(M,{class:"p-6 shadow-lg rounded-lg border border-gray-200"},{default:s(()=>[t(k,null,{default:s(()=>[t(w,null,{title:s(()=>[le]),_:1}),e("div",re,[e("div",ne,[t(j,{size:"40",class:"bg-primary-100 text-primary-600"},{default:s(()=>{var o,u;return[a(m(((u=(o=n.caseDetails.patient)==null?void 0:o.name)==null?void 0:u.charAt(0))||"N"),1)]}),_:1}),e("div",null,[t(D,{size:5,class:"font-semibold text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.patient)==null?void 0:o.name)||"N/A"),1)]}),_:1}),t(i,{class:"text-gray-500 text-sm"},{default:s(()=>[a(" Patient Name ")]),_:1})])]),e("div",ie,[de,e("div",null,[t(i,{class:"text-gray-800 font-medium"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.patient)==null?void 0:o.email)||"N/A"),1)]}),_:1}),t(i,{class:"text-gray-500 text-sm"},{default:s(()=>[a(" Email ")]),_:1})])]),e("div",ce,[ue,e("div",null,[t(i,{class:"text-gray-800 font-medium"},{default:s(()=>{var o,u;return[a(m(((o=n.caseDetails.patient)==null?void 0:o.address_line_1)||"N/A")+", "+m(((u=n.caseDetails.patient)==null?void 0:u.address_line_2)||"N/A"),1)]}),_:1}),t(i,{class:"text-gray-500 text-sm"},{default:s(()=>[a(" Address ")]),_:1})])])])]),_:1})]),_:1})])):h("",!0),r.activeTab==="attorney"?(d(),_("div",me,[_e,e("div",pe,[e("div",null,[e("h3",fe,m(((B=n.caseDetails.attorney)==null?void 0:B.name)||"N/A"),1)]),e("div",ge,[e("p",he,[ve,a(" "+m(((P=n.caseDetails.attorney)==null?void 0:P.email)||"N/A"),1)])])])])):h("",!0),r.activeTab==="billing"?(d(),_("div",ye,[t(k,null,{default:s(()=>[e("div",xe,[t(w,null,{title:s(()=>[be]),_:1}),e("div",we,[e("div",ke,[e("div",null,[t(D,{size:6,class:"font-medium"},{default:s(()=>[a("Billing Details")]),_:1})]),e("div",Ce,[t(i,null,{default:s(()=>[a("Billing Type: "+m(n.caseDetails.billing_type||"N/A"),1)]),_:1}),t(i,null,{default:s(()=>[a("ICD-10 Code: "+m(n.icdCodeDescription||"N/A"),1)]),_:1}),t(i,null,{default:s(()=>[a("Service Billed: "+m(n.caseDetails.service_billed||"N/A"),1)]),_:1}),n.cptCodeDescriptions.length?(d(),_("div",De,[t(i,null,{default:s(()=>[a("CPT Codes:")]),_:1}),e("ul",Fe,[(d(!0),_(b,null,C(n.cptCodeDescriptions,o=>(d(),_("li",{key:o},m(o),1))),128))])])):(d(),I(i,{key:1},{default:s(()=>[a("CPT Codes: N/A")]),_:1}))])]),e("div",Ae,[t(A,null,{default:s(()=>[t(F,null,{default:s(()=>[a("Billing Type")]),_:1}),t(N,{modelValue:r.billingType,"onUpdate:modelValue":c[0]||(c[0]=o=>r.billingType=o),options:[{label:"LOP",value:"LOP"},{label:"Insurance",value:"Insurance"}],error:r.form.errors.billing_type,disabled:r.form.processing,class:"w-full"},null,8,["modelValue","error","disabled"])]),_:1})]),r.billingType==="Insurance"?(d(),_("div",Te,[t(A,null,{default:s(()=>[t(F,{class:"mb-2"},{default:s(()=>[a("CPT Codes")]),_:1}),r.form.cptCodes.length===0?(d(),_("div",Ve," No CPT codes added yet. ")):h("",!0),(d(!0),_(b,null,C(r.form.cptCodes,(o,u)=>(d(),_("div",{key:u,class:"flex gap-2 mb-2"},[t(N,{options:n.allCptCodes.map(y=>({label:`${y.code} - ${y.description}`,value:y.id})),modelValue:o.code,"onUpdate:modelValue":y=>o.code=y,error:r.form.errors[`cptCodes.${u}.code`],disabled:r.form.processing,class:"flex-1"},null,8,["options","modelValue","onUpdate:modelValue","error","disabled"]),t(S,{type:"number",modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,error:r.form.errors[`cptCodes.${u}.value`],disabled:r.form.processing,placeholder:"Value",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","error","disabled"]),t(v,{onClick:y=>f.removeCptCode(u),color:"red",class:"self-end"},{default:s(()=>[a(" Remove ")]),_:2},1032,["onClick"])]))),128)),t(v,{onClick:f.addCptCode,color:"primary",class:"mt-4"},{default:s(()=>[a(" Add CPT Code ")]),_:1},8,["onClick"])]),_:1})])):h("",!0),e("div",Ie,[t(v,{onClick:f.saveCase,color:"primary",disabled:r.form.processing,class:"w-full sm:w-auto"},{default:s(()=>[a(" Save Billing Information ")]),_:1},8,["onClick","disabled"])])])])]),_:1})])):h("",!0),r.activeTab==="policy"?(d(),_("div",Se,[t(k,null,{default:s(()=>[e("div",Me,[t(w,null,{title:s(()=>[Ne]),_:1}),e("div",Re,[e("div",Be,[e("div",Pe,[e("div",Le,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" Policy Limit: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.policy_limit_info)==null?void 0:o.policy_limit)||"N/A"),1)]}),_:1})]),e("div",je,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" PIP: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.policy_limit_info)==null?void 0:o.pip)||"N/A"),1)]}),_:1})]),e("div",Ue,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" Defendant Insurance: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.policy_limit_info)==null?void 0:o.defendant_insurance)||"N/A"),1)]}),_:1})])]),e("div",Oe,[e("div",qe,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" Plaintiff Insurance: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.policy_limit_info)==null?void 0:o.plaintiff_insurance)||"N/A"),1)]}),_:1})]),e("div",Ee,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" Commercial Case: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m((o=n.caseDetails.policy_limit_info)!=null&&o.commercial_case?"Yes":"No"),1)]}),_:1})]),e("div",ze,[t(i,{class:"text-sm text-gray-600"},{default:s(()=>[a(" Type of Accident: ")]),_:1}),t(i,{class:"font-medium text-gray-800"},{default:s(()=>{var o;return[a(m(((o=n.caseDetails.policy_limit_info)==null?void 0:o.type_of_accident)||"N/A"),1)]}),_:1})])])])])])]),_:1})])):h("",!0),r.activeTab==="referrals"?(d(),_("div",He,[t(k,null,{default:s(()=>[t(w,null,{title:s(()=>[Je]),_:1}),e("div",Ye,[(d(!0),_(b,null,C(n.referrals,o=>(d(),_("div",{key:o.referral_id,class:"bg-gray-50 p-4 rounded-lg shadow-sm"},[e("div",Ge,[t(D,{size:6,class:"font-medium"},{default:s(()=>[o.referral_id?(d(),I(U,{key:0,href:l.route("panel.admin.referrals.show",{referral:o.referral_id}),class:"text-primary-500 hover:underline"},{default:s(()=>[a(" Referral #"+m(o.referral_id),1)]),_:2},1032,["href"])):(d(),_("span",Ke,"Referral ID Missing"))]),_:2},1024),t(i,null,{default:s(()=>[a("Created: "+m(f.formatDate(o.created_at)||"N/A"),1)]),_:2},1024),o.reduction_requests&&o.reduction_requests.length>0?(d(),_("div",Qe,[t(D,{size:6,class:"font-medium"},{default:s(()=>[a("Reduction Requests")]),_:1}),(d(!0),_(b,null,C(o.reduction_requests,u=>(d(),_("div",{key:u.id,class:"mt-2"},[t(i,null,{default:s(()=>[a("Amount: $"+m(u.amount),1)]),_:2},1024),t(i,{class:"mt-2"},{default:s(()=>[a(" Status: "),e("span",{class:V(f.getStatusBadgeClass(u.referral_status))},m(f.getStatusText(u.referral_status)),3)]),_:2},1024),t(i,{class:"mt-4"},{default:s(()=>[a(" Doctor Decision: "),e("span",{class:V(f.getDoctorDecisionBadgeClass(u.doctor_decision))},m(f.getDoctorDecisionText(u.doctor_decision)),3)]),_:2},1024),u.counter_offer?(d(),I(i,{key:0},{default:s(()=>[a(" Counter Offer: $"+m(u.counter_offer),1)]),_:2},1024)):h("",!0),u.file_path?(d(),I(i,{key:1},{default:s(()=>[e("a",{href:u.file_link,target:"_blank",class:"text-primary-500 hover:underline"},"Download File",8,We)]),_:2},1024)):h("",!0)]))),128))])):h("",!0),e("div",Xe,[t(v,{onClick:u=>f.markReferralComplete(o.referral_id),class:"bg-green-500 text-white flex-1"},{default:s(()=>[a(" Complete ")]),_:2},1032,["onClick"]),t(v,{onClick:u=>f.openReductionModal(o.referral_id),disabled:o.reduction_requests&&o.reduction_requests.length>0,class:V(["bg-orange-500 text-white flex-1",{"opacity-50 cursor-not-allowed":o.reduction_requests&&o.reduction_requests.length>0}])},{default:s(()=>[a(" Reduction ")]),_:2},1032,["onClick","disabled","class"]),t(v,{onClick:u=>f.markReferralLost(o.referral_id),class:"bg-red-500 text-white flex-1"},{default:s(()=>[a(" Lost ")]),_:2},1032,["onClick"])])])]))),128)),t(H,{modelValue:r.isModalOpen,"onUpdate:modelValue":c[4]||(c[4]=o=>r.isModalOpen=o),persistent:"","max-width":"500px"},{default:s(()=>[t(M,null,{default:s(()=>[t(O,null,{default:s(()=>[Ze]),_:1}),t(E,null,{default:s(()=>[t(q,{modelValue:r.isFormValid,"onUpdate:modelValue":c[3]||(c[3]=o=>r.isFormValid=o),ref:"reductionForm"},{default:s(()=>[t(A,{class:"col-span-full sm:col-span-2 xl:col-span-3"},{default:s(()=>[t(F,null,{default:s(()=>[$e]),_:1}),t(S,{type:"number",modelValue:r.reductionAmount,"onUpdate:modelValue":c[1]||(c[1]=o=>r.reductionAmount=o),class:"border border-gray-300 rounded-lg",required:""},null,8,["modelValue"])]),_:1}),t(A,{class:"col-span-full sm:col-span-2 xl:col-span-3"},{default:s(()=>[t(F,null,{default:s(()=>[et]),_:1}),t(S,{type:"file",modelValue:r.reductionFile,"onUpdate:modelValue":c[2]||(c[2]=o=>r.reductionFile=o),class:"border border-gray-300 rounded-lg",required:""},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(z,null,{default:s(()=>[t(R,{text:"",onClick:f.closeReductionModal},{default:s(()=>[a("Cancel")]),_:1},8,["onClick"]),t(R,{color:"orange",disabled:!r.isFormValid,onClick:f.submitReduction},{default:s(()=>[a("Submit")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})])):h("",!0),r.activeTab==="cms"?(d(),_("div",tt,[t(k,null,{default:s(()=>[t(w,null,{title:s(()=>[st]),_:1}),e("div",ot,[t(J,{src:"https://docuseal.com/d/Dwz83PcPdAY9Ry",onSubmit:f.handleFormSubmit,onSave:f.handleFormSave},null,8,["src","onSubmit","onSave"])]),e("div",at,[t(v,{onClick:f.saveFormForLater,color:"secondary",class:"flex-1"},{default:s(()=>[a(" Save for Later ")]),_:1},8,["onClick"]),t(v,{onClick:f.downloadFormPDF,color:"primary",class:"flex-1"},{default:s(()=>[a(" Download PDF ")]),_:1},8,["onClick"])])]),_:1})])):h("",!0)])])],64)}const ut=W(X,[["render",lt],["__scopeId","data-v-04e7531b"]]);export{ut as default};
