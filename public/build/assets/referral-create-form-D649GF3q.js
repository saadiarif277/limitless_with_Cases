import{R as B,a as U,b as E}from"./_referral-patient-form-Txl7g_5c.js";import{r as o,o as a,c as f,a as r,w as s,g as d,f as u,F as w,i as V,b as n,t as g,e as b,d as C,T as N}from"./app-C7DA4c70.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={props:{attorneys:{type:Object,required:!0,default:()=>{}},doctors:{type:Object,required:!0,default:()=>{}},documentCategories:{type:Object,required:!0,default:()=>{}},form:{type:Object,required:!0,default:()=>{}},patients:{type:Object,required:!0,default:()=>{}},referralReasons:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}}}},M={class:"divide-y divide-gray-200"},I={class:"flex items-center gap-2"},P=d("div",{class:"flex items-center gap-2"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-pink-500"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})]),d("span",{class:"text-pink-500"},"Document"),n(" Information ")],-1),A={key:0,class:"text-red-500 font-medium italic"},H={class:"relative grid grid-cols-1 gap-4"},L={key:0,class:"w-full h-full absolute bg-white opacity-50"},G={key:0,class:"space-y-1"},J={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},K=d("span",{class:"text-red-500 uppercase"}," Cancel ",-1);function Q(i,c,e,D,t,O){const _=o("v-section-heading"),v=o("v-content-body"),h=o("v-link"),p=o("v-form-label"),x=o("v-form-file"),R=o("v-form-group"),j=o("v-card");return a(),f("div",M,[r(v,null,{default:s(()=>[r(_,null,{title:s(()=>[d("div",I,[P,e.form.state_id?u("",!0):(a(),f("div",A," Please select a referral state. "))])]),_:1})]),_:1}),r(v,null,{default:s(()=>[d("div",H,[e.form.state_id?u("",!0):(a(),f("div",L)),(a(!0),f(w,null,V(e.documentCategories.data,(y,q)=>(a(),f(w,{key:"documentCategory_"+q},[y.document_types&&y.document_types.length?(a(),f("div",G,[r(_,null,{title:s(()=>[n(g(y.name),1)]),_:2},1024),d("div",J,[(a(!0),f(w,null,V(y.document_types,(m,k)=>(a(),b(j,{key:"documentType_"+k},{default:s(()=>[r(v,null,{default:s(()=>[r(R,null,{default:s(()=>[r(p,{class:"flex items-center justify-between"},{default:s(()=>[n(g(m.name)+" ",1),e.form.documents[m.document_type_id]?(a(),b(h,{key:0,href:"#",onClick:C(S=>e.form.documents[m.document_type_id]=null,["stop"])},{default:s(()=>[K]),_:2},1032,["onClick"])):u("",!0)]),_:2},1024),r(x,{modelValue:e.form.documents[m.document_type_id],"onUpdate:modelValue":S=>e.form.documents[m.document_type_id]=S},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])):u("",!0)],64))),128))])]),_:1})])}const T=F(z,[["render",Q]]),W={name:"ReferralsCreateForm",components:{"x-referral-attorney-form":B,"x-referral-doctor-form":U,"x-referral-documents-form":T,"x-referral-patient-form":E},props:{attorneys:{type:Object,required:!0,default:()=>{}},doctors:{type:Object,required:!0,default:()=>{}},documentCategories:{type:Object,required:!1,default:()=>{}},medicalSpecialties:{type:Object,required:!0,default:()=>{}},patients:{type:Object,required:!0,default:()=>{}},referralReasons:{type:Object,required:!1,default:()=>{}},referralStatuses:{type:Object,required:!1,default:()=>{}},referralStates:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}},listRoute:{type:String,required:!1,default:()=>"panel.admin.referrals.index"},storeRoute:{type:String,required:!1,default:()=>"panel.admin.referrals.store"}},data(){return{form:N({referral_date:new Date().toISOString().split("T")[0],referral_status_id:1,state_id:this.$page.props.auth.user.state_id||"",attorney:{name:"",email:"",phone_number:"",law_firm:{name:"",email:"",phone_number:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:""}},doctor:{user_id:"",name:"",email:"",phone_number:"",clinic:{clinic_id:"",name:"",email:"",phone_number:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:""},notes:""},patient:{name:"",email:"",phone_number:"",height:"",weight:"",gender:"",birthdate:"",injury_date:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",referral_reason_ids:[]},documents:{}})}},watch:{"form.state_id":{handler(i){i&&(this.$inertia.get(route(route().current()),{...this.$page.props.query,state_id:this.form.state_id||void 0},{preserveState:!0,preserveScroll:!0}),this.form.doctor.clinic.state_id=i,this.form.attorney.law_firm.state_id=i,this.form.patient.state_id=i)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.form.post(this.route(this.storeRoute||"panel.admin.referrals.store"),{onSuccess:()=>this.$toast().success("Referral created successfully!"),onError:i=>{Object.keys(i).forEach(c=>{const e=i[c];this.$toast().error(e)})}})}}},X={class:"h-full divide-y divide-gray-200 space-y-12"},Y=["value"];function Z(i,c,e,D,t,O){const _=o("v-form-label"),v=o("v-form-input"),h=o("v-form-error"),p=o("v-form-group"),x=o("v-form-select"),R=o("v-content-body"),j=o("x-referral-doctor-form"),y=o("x-referral-patient-form"),q=o("x-referral-attorney-form"),m=o("x-referral-documents-form"),k=o("v-button"),S=o("v-form");return a(),b(S,{class:"h-full",onSubmit:C(O.submitForm,["prevent"])},{default:s(()=>[d("div",X,[d("div",null,[r(R,{class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6"},{default:s(()=>[r(p,null,{default:s(()=>[r(_,null,{default:s(()=>[n("Referral Date")]),_:1}),r(v,{type:"date",modelValue:t.form.referral_date,"onUpdate:modelValue":c[0]||(c[0]=l=>t.form.referral_date=l),error:t.form.errors.referral_date,disabled:t.form.processing},null,8,["modelValue","error","disabled"]),t.form.errors.referral_date?(a(),b(h,{key:0},{default:s(()=>[n(g(t.form.errors.referral_date),1)]),_:1})):u("",!0)]),_:1}),r(p,null,{default:s(()=>[r(_,null,{default:s(()=>[n("Referral Status")]),_:1}),r(x,{options:e.referralStatuses.data.map(l=>({label:l.name,value:l.referral_status_id})),error:t.form.errors.referral_status_id,disabled:t.form.processing,required:!0,modelValue:t.form.referral_status_id,"onUpdate:modelValue":c[1]||(c[1]=l=>t.form.referral_status_id=l)},null,8,["options","error","disabled","modelValue"]),t.form.errors.referral_status_id?(a(),b(h,{key:0},{default:s(()=>[n(g(t.form.errors.referral_status_id),1)]),_:1})):u("",!0)]),_:1}),r(p,null,{default:s(()=>[r(_,null,{default:s(()=>[n("Referral State")]),_:1}),r(x,{options:(e.referralStates||e.states).data.map(l=>({label:l.name,value:l.state_id})),error:t.form.errors.state_id,disabled:t.form.processing,required:!0,modelValue:t.form.state_id,"onUpdate:modelValue":c[2]||(c[2]=l=>t.form.state_id=l)},null,8,["options","error","disabled","modelValue"]),t.form.errors.state_id?(a(),b(h,{key:0},{default:s(()=>[n(g(t.form.errors.state_id),1)]),_:1})):u("",!0)]),_:1})]),_:1})]),r(j,{attorneys:e.attorneys,doctors:e.doctors,"document-categories":e.documentCategories,form:t.form,"medical-specialties":e.medicalSpecialties,patients:e.patients,"referral-reasons":e.referralReasons,"referral-statuses":e.referralStatuses,states:e.states},null,8,["attorneys","doctors","document-categories","form","medical-specialties","patients","referral-reasons","referral-statuses","states"]),r(y,{attorneys:e.attorneys,doctors:e.doctors,"document-categories":e.documentCategories,form:t.form,"medical-specialties":e.medicalSpecialties,patients:e.patients,"referral-reasons":e.referralReasons,"referral-statuses":e.referralStatuses,states:e.states},null,8,["attorneys","doctors","document-categories","form","medical-specialties","patients","referral-reasons","referral-statuses","states"]),r(q,{attorneys:e.attorneys,doctors:e.doctors,"document-categories":e.documentCategories,form:t.form,"medical-specialties":e.medicalSpecialties,patients:e.patients,"referral-reasons":e.referralReasons,"referral-statuses":e.referralStatuses,states:e.states},null,8,["attorneys","doctors","document-categories","form","medical-specialties","patients","referral-reasons","referral-statuses","states"]),r(m,{attorneys:e.attorneys,doctors:e.doctors,"document-categories":e.documentCategories,form:t.form,"medical-specialties":e.medicalSpecialties,patients:e.patients,"referral-reasons":e.referralReasons,"referral-statuses":e.referralStatuses,states:e.states},null,8,["attorneys","doctors","document-categories","form","medical-specialties","patients","referral-reasons","referral-statuses","states"]),r(p,{class:"col-span-full flex items-center justify-end gap-2 text-right border-t border-gray-200 bg-gray-50 px-6 py-4"},{default:s(()=>[t.form.progress?(a(),f("progress",{key:0,value:t.form.progress.percentage,max:"100"},g(t.form.progress.percentage)+"% ",9,Y)):u("",!0),r(k,{href:i.route(e.listRoute),color:"white",disabled:t.form.processing},{default:s(()=>[n(" Cancel ")]),_:1},8,["href","disabled"]),r(k,{disabled:t.form.processing},{default:s(()=>[n(" Create Referral ")]),_:1},8,["disabled"])]),_:1})])]),_:1},8,["onSubmit"])}const re=F(W,[["render",Z]]);export{re as R};
