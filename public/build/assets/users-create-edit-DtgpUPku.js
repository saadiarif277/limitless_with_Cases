import{L as B}from"./index-C99Ts5PX.js";import{T as L,r as g,o as d,c as h,a as o,g as b,w as r,F as y,b as s,t as n,d as z,f as m,e as u,i as S}from"./app-BXgbEd8A.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-ENtOGCbS.js";const F={name:"UsersCreateEdit",layout:B,props:{clinics:{type:Object,required:!1,default:()=>{}},roles:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}},user:{type:Object,required:!1,default:()=>{}}},data(){return{form:L({name:"",email:"",phone_number:"",birthdate:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",gender:"",height:"",weight:"",password:"",password_confirmation:"",role_names:[],clinic_ids:[]})}},watch:{user:{handler(i){!i||!i.data||(this.form.name=i.data.name,this.form.email=i.data.email,this.form.phone_number=i.data.phone_number,this.form.birthdate=i.data.birthdate,this.form.address_line_1=i.data.address_line_1,this.form.address_line_2=i.data.address_line_2,this.form.city=i.data.city,this.form.state_id=i.data.state_id,this.form.zip_code=i.data.zip_code,this.form.gender=i.data.gender,this.form.height=i.data.height,this.form.weight=i.data.weight,this.form.role_names=i.data.roles,this.form.clinic_ids=i.data.clinic_ids)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.user&&this.user.data&&this.user.data.user_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.admin.users.store"),{onSuccess:()=>this.$toast().success("User created successfully!"),onError:i=>{Object.keys(i).forEach(l=>{const f=i[l];this.$toast().error(f)})}})},updateRequest(){this.form.patch(this.route("panel.admin.users.update",{user:this.user.data.user_id}),{onSuccess:()=>this.$toast().success("User updated successfully!"),onError:i=>{Object.keys(i).forEach(l=>{const f=i[l];this.$toast().error(f)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((i,l)=>{this.form.delete(this.route("panel.admin.users.destroy",{user:this.user.data.user_id}),{onSuccess:()=>{this.$toast().success("User deleted successfully!"),i()},onError:f=>{Object.keys(f).forEach(C=>{const e=f[C];this.$toast().error(e)}),l()}})}))}}},P={class:"h-full flex flex-col"},A={key:0,class:"flex gap-2"},D={class:"col-span-full"},I={class:"col-span-full"},G={class:"col-span-full"},H={class:"col-span-full"},T={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},M={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},W=["value"];function Z(i,l,f,C,e,E){const j=g("v-inertia-head"),x=g("v-button"),k=g("v-section-heading"),V=g("v-content-body"),c=g("v-form-label"),p=g("v-form-input"),_=g("v-form-error"),a=g("v-form-group"),w=g("v-card"),O=g("v-form-select"),q=g("v-form-checkbox"),R=g("v-form");return d(),h(y,null,[o(j,{title:f.user?`Editing '${f.user.data.name}' user.`:"Create User"},null,8,["title"]),b("div",P,[o(V,{class:"border-b border-gray-200"},{default:r(()=>[o(k,null,{title:r(()=>[f.user?(d(),h(y,{key:1},[s(" Editing '"+n(f.user.data.name)+"' user. ",1)],64)):(d(),h(y,{key:0},[s(" Create User ")],64))]),description:r(()=>[f.user?(d(),h(y,{key:1},[s(" Change and/or modify the details for the user. ")],64)):(d(),h(y,{key:0},[s(" Fill up the form below to create a new user for the application. ")],64))]),actions:r(()=>[f.user?(d(),h("div",A,[o(x,{color:"danger",disabled:e.form.processing,onClick:z(E.deleteRequest,["stop"])},{default:r(()=>[s(" Delete User ")]),_:1},8,["disabled","onClick"])])):m("",!0)]),_:1})]),_:1}),o(V,null,{default:r(()=>[o(R,{class:"grid grid-cols-1 md:grid-cols-2 gap-6",onSubmit:z(E.submitForm,["prevent"])},{default:r(()=>[o(w,{class:"col-span-full"},{default:r(()=>[o(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[b("div",D,[o(k,null,{title:r(()=>[s(" General Information ")]),description:r(()=>[s(" Basic information about the user. ")]),_:1})]),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Name")]),_:1}),o(p,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.form.name=t),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.name),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Email")]),_:1}),o(p,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":l[1]||(l[1]=t=>e.form.email=t),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.email),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Phone Number")]),_:1}),o(p,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":l[2]||(l[2]=t=>e.form.phone_number=t),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.phone_number),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Birthdate")]),_:1}),o(p,{type:"date",modelValue:e.form.birthdate,"onUpdate:modelValue":l[3]||(l[3]=t=>e.form.birthdate=t),error:e.form.errors.birthdate,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.birthdate?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.birthdate),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1}),o(w,{class:"col-span-full"},{default:r(()=>[o(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-6 xl:grid-cols-12 gap-x-6 gap-y-4"},{default:r(()=>[b("div",I,[o(k,null,{title:r(()=>[s(" Location Information ")]),description:r(()=>[s(" Address data for the user. ")]),_:1})]),o(a,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(c,null,{default:r(()=>[s("Address Line 1 ")]),_:1}),o(p,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":l[4]||(l[4]=t=>e.form.address_line_1=t),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.address_line_1),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(c,null,{default:r(()=>[s("Address Line 2")]),_:1}),o(p,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.address_line_2=t),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.address_line_2),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("City")]),_:1}),o(p,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.city=t),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.city),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("State")]),_:1}),o(O,{options:f.states.data.map(t=>({label:t.name,value:t.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.state_id=t)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.state_id),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("Zip Code")]),_:1}),o(p,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":l[8]||(l[8]=t=>e.form.zip_code=t),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.zip_code),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1}),o(w,{class:"col-span-full"},{default:r(()=>[o(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-3 xl:grid-cols-6 gap-x-6 gap-y-4"},{default:r(()=>[b("div",G,[o(k,null,{title:r(()=>[s(" Personal Health Information ")]),description:r(()=>[s(" Data regarding the personal status of the user. ")]),_:1})]),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Gender")]),_:1}),o(p,{type:"text",modelValue:e.form.gender,"onUpdate:modelValue":l[9]||(l[9]=t=>e.form.gender=t),error:e.form.errors.gender,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.gender?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.gender),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Height")]),_:1}),o(p,{type:"text",modelValue:e.form.height,"onUpdate:modelValue":l[10]||(l[10]=t=>e.form.height=t),error:e.form.errors.height,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.height?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.height),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Weight")]),_:1}),o(p,{type:"text",modelValue:e.form.weight,"onUpdate:modelValue":l[11]||(l[11]=t=>e.form.weight=t),error:e.form.errors.weight,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.weight?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.weight),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1}),o(w,{class:"col-span-full"},{default:r(()=>[o(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[b("div",H,[o(k,null,{title:r(()=>[s(" Access & Security ")]),description:r(()=>[s(" Ensure accounts are safe from unauthorized access. ")]),_:1})]),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Password")]),_:1}),o(p,{type:"password",modelValue:e.form.password,"onUpdate:modelValue":l[12]||(l[12]=t=>e.form.password=t),error:e.form.errors.password,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.password),1)]),_:1})):m("",!0)]),_:1}),o(a,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Password Confirmation")]),_:1}),o(p,{type:"password",modelValue:e.form.password_confirmation,"onUpdate:modelValue":l[13]||(l[13]=t=>e.form.password_confirmation=t),error:e.form.errors.password_confirmation,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password_confirmation?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.password_confirmation),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full"},{default:r(()=>[o(c,null,{default:r(()=>[s("Roles")]),_:1}),b("div",T,[(d(!0),h(y,null,S(f.roles.data,(t,v)=>(d(),u(q,{key:"role_"+v,modelValue:e.form.role_names,"onUpdate:modelValue":l[14]||(l[14]=U=>e.form.role_names=U),value:t.name,disabled:e.form.processing},{default:r(()=>[s(n(t.name),1)]),_:2},1032,["modelValue","value","disabled"]))),128))]),e.form.errors.roles?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.roles),1)]),_:1})):m("",!0)]),_:1}),o(a,{class:"col-span-full"},{default:r(()=>[o(c,null,{default:r(()=>[s("Clinics")]),_:1}),b("div",M,[(d(!0),h(y,null,S(f.clinics.data,(t,v)=>(d(),u(q,{key:"role_"+v,modelValue:e.form.clinic_ids,"onUpdate:modelValue":l[15]||(l[15]=U=>e.form.clinic_ids=U),value:t.clinic_id,disabled:e.form.processing},{default:r(()=>[s(n(t.name),1)]),_:2},1032,["modelValue","value","disabled"]))),128))]),e.form.errors.roles?(d(),u(_,{key:0},{default:r(()=>[s(n(e.form.errors.roles),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1}),o(a,{class:"col-span-full flex items-center justify-end gap-2 text-right border-t border-gray-200 py-6"},{default:r(()=>[e.form.progress?(d(),h("progress",{key:0,value:e.form.progress.percentage,max:"100"},n(e.form.progress.percentage)+"% ",9,W)):m("",!0),o(x,{href:i.route("panel.admin.users.index"),color:"white",disabled:e.form.processing},{default:r(()=>[s(" Cancel ")]),_:1},8,["href","disabled"]),f.user?(d(),u(x,{key:2,disabled:e.form.processing},{default:r(()=>[s(" Save Changes ")]),_:1},8,["disabled"])):(d(),u(x,{key:1,disabled:e.form.processing},{default:r(()=>[s(" Create User ")]),_:1},8,["disabled"]))]),_:1})]),_:1},8,["onSubmit"])]),_:1})])],64)}const Y=N(F,[["render",Z]]);export{Y as default};
