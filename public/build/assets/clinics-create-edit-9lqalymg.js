import{L as w}from"./index-CUO78Va1.js";import{T as z,r as p,o as n,c as y,a as o,g as x,w as r,F as h,b as l,t as c,d as v,f as m,e as a}from"./app-BXgbEd8A.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-ENtOGCbS.js";const j={name:"ClinicsCreateEdit",layout:w,props:{clinic:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}}},data(){return{form:z({name:"",email:"",phone_number:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",price_read:"",price_scan:""})}},watch:{clinic:{handler(i){!i||!i.data||(this.form.name=i.data.name,this.form.email=i.data.email,this.form.phone_number=i.data.phone_number,this.form.address_line_1=i.data.address_line_1,this.form.address_line_2=i.data.address_line_2,this.form.city=i.data.city,this.form.state_id=i.data.state_id,this.form.zip_code=i.data.zip_code,this.form.price_read=i.data.price_read,this.form.price_scan=i.data.price_scan)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.clinic&&this.clinic.data&&this.clinic.data.clinic_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.admin.clinics.store"),{onSuccess:()=>this.$toast().success("Clinic created successfully!"),onError:i=>{Object.keys(i).forEach(s=>{const d=i[s];this.$toast().error(d)})}})},updateRequest(){this.form.patch(this.route("panel.admin.clinics.update",{clinic:this.clinic.data.clinic_id}),{onSuccess:()=>this.$toast().success("Clinic updated successfully!"),onError:i=>{Object.keys(i).forEach(s=>{const d=i[s];this.$toast().error(d)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((i,s)=>{this.form.delete(this.route("panel.admin.clinics.destroy",{clinic:this.clinic.data.clinic_id}),{onSuccess:()=>{this.$toast().success("Clinic deleted successfully!"),i()},onError:d=>{Object.keys(d).forEach(V=>{const e=d[V];this.$toast().error(e)}),s()}})}))}}},N={class:"h-full flex flex-col"},F={key:0,class:"flex gap-2"},O={class:"col-span-full grid grid-cols-1 md:grid-cols-6 xl:grid-cols-12 gap-x-6 gap-y-4"},B=["value"];function L(i,s,d,V,e,k){const E=p("v-inertia-head"),g=p("v-button"),U=p("v-section-heading"),C=p("v-content-body"),u=p("v-form-label"),b=p("v-form-input"),_=p("v-form-error"),f=p("v-form-group"),S=p("v-form-select"),q=p("v-form");return n(),y(h,null,[o(E,{title:d.clinic?`Editing '${d.clinic.data.name}' clinic.`:"Create Clinic"},null,8,["title"]),x("div",N,[o(C,{class:"border-b border-gray-200"},{default:r(()=>[o(U,null,{title:r(()=>[d.clinic?(n(),y(h,{key:1},[l(" Editing '"+c(d.clinic.data.name)+"' clinic. ",1)],64)):(n(),y(h,{key:0},[l(" Create Clinic ")],64))]),description:r(()=>[d.clinic?(n(),y(h,{key:1},[l(" Change and/or modify the details for the clinic. ")],64)):(n(),y(h,{key:0},[l(" Fill up the form below to create a new clinic for the application. ")],64))]),actions:r(()=>[d.clinic?(n(),y("div",F,[o(g,{color:"danger",disabled:e.form.processing,onClick:v(k.deleteRequest,["stop"])},{default:r(()=>[l(" Delete Clinic ")]),_:1},8,["disabled","onClick"])])):m("",!0)]),_:1})]),_:1}),o(C,null,{default:r(()=>[o(q,{class:"grid grid-cols-1 sm:grid-cols-6 gap-6",onSubmit:v(k.submitForm,["prevent"])},{default:r(()=>[o(f,{class:"col-span-full sm:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("Name")]),_:1}),o(b,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.form.name=t),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.name),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full sm:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("Email")]),_:1}),o(b,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":s[1]||(s[1]=t=>e.form.email=t),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.email),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full sm:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("Phone Number")]),_:1}),o(b,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":s[2]||(s[2]=t=>e.form.phone_number=t),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.phone_number),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full sm:col-span-3"},{default:r(()=>[o(u,null,{default:r(()=>[l("Scan Price")]),_:1}),o(b,{type:"text",modelValue:e.form.price_scan,"onUpdate:modelValue":s[3]||(s[3]=t=>e.form.price_scan=t),error:e.form.errors.price_scan,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.price_scan?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.price_scan),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full sm:col-span-3"},{default:r(()=>[o(u,null,{default:r(()=>[l("Read Price")]),_:1}),o(b,{type:"text",modelValue:e.form.price_read,"onUpdate:modelValue":s[4]||(s[4]=t=>e.form.price_read=t),error:e.form.errors.price_read,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.price_read?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.price_read),1)]),_:1})):m("",!0)]),_:1}),x("div",O,[o(f,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(u,null,{default:r(()=>[l("Address Line 1 ")]),_:1}),o(b,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":s[5]||(s[5]=t=>e.form.address_line_1=t),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.address_line_1),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(u,null,{default:r(()=>[l("Address Line 2")]),_:1}),o(b,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":s[6]||(s[6]=t=>e.form.address_line_2=t),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.address_line_2),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("City")]),_:1}),o(b,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":s[7]||(s[7]=t=>e.form.city=t),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.city),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("State")]),_:1}),o(S,{options:d.states.data.map(t=>({label:t.name,value:t.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":s[8]||(s[8]=t=>e.form.state_id=t)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.state_id),1)]),_:1})):m("",!0)]),_:1}),o(f,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(u,null,{default:r(()=>[l("Zip Code")]),_:1}),o(b,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":s[9]||(s[9]=t=>e.form.zip_code=t),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(n(),a(_,{key:0},{default:r(()=>[l(c(e.form.errors.zip_code),1)]),_:1})):m("",!0)]),_:1})]),o(f,{class:"col-span-full flex items-center justify-end gap-2 text-right border-t border-gray-200 py-6"},{default:r(()=>[e.form.progress?(n(),y("progress",{key:0,value:e.form.progress.percentage,max:"100"},c(e.form.progress.percentage)+"% ",9,B)):m("",!0),o(g,{href:i.route("panel.admin.clinics.index"),color:"white",disabled:e.form.processing},{default:r(()=>[l(" Cancel ")]),_:1},8,["href","disabled"]),d.clinic?(n(),a(g,{key:2,disabled:e.form.processing},{default:r(()=>[l(" Save Changes ")]),_:1},8,["disabled"])):(n(),a(g,{key:1,disabled:e.form.processing},{default:r(()=>[l(" Create Clinic ")]),_:1},8,["disabled"]))]),_:1})]),_:1},8,["onSubmit"])]),_:1})])],64)}const M=R(j,[["render",L]]);export{M as default};
