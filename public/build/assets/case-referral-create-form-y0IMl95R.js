import{R as U,a as q,b as j}from"./_referral-patient-form-B3P9vrd-.js";import{R as k}from"./_referral-documents-form-BTWeyc69.js";import{T as w,r as u,o as f,e as _,w as r,g as i,a as e,b as s,t as v,f as g,d as F}from"./app-DsmlTcIo.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={name:"CaseReferralCreateForm",components:{"x-referral-attorney-form":U,"x-referral-doctor-form":q,"x-referral-documents-form":k,"x-referral-patient-form":j},props:{attorneys:{type:Object,required:!0},doctors:{type:Object,required:!0},documentCategories:{type:Object,required:!1},medicalSpecialties:{type:Object,required:!0},patients:{type:Object,required:!0},referralReasons:{type:Object,required:!1},referralStatuses:{type:Object,required:!1},referralStates:{type:Object,required:!1},states:{type:Object,required:!1},listRoute:{type:String,default:"panel.admin.referrals.index"},storeRoute:{type:String,default:"panel.admin.referrals.store"}},data(){return{form:w({referral_date:new Date().toISOString().split("T")[0],referral_status_id:1,state_id:this.$page.props.auth.user.state_id||"",attorney_id:null,piloting_physician_id:null,cpt_codes:"",service_billed:0,is_cms1500_generated:!1,billing_type:"",case_won:!1,outcome:"",reduction_accepted:!1,is_closed:!1,closed_at:null,created_at:null,updated_at:null})}},methods:{submitForm(){this.form.post(this.route(this.storeRoute),{onSuccess:()=>this.$toast().success("Referral created successfully!"),onError:b=>{Object.keys(b).forEach(o=>{this.$toast().error(b[o])})}})},handleCloseChange(){this.form.is_closed?this.form.closed_at=new Date().toISOString():this.form.closed_at=null}}},B={class:"h-full divide-y divide-gray-200 space-y-12"},T={class:"text-right mt-4"};function D(b,o,d,I,l,C){const a=u("v-form-label"),y=u("v-form-input"),V=u("v-form-error"),n=u("v-form-group"),m=u("v-form-select"),S=u("x-referral-patient-form"),c=u("v-content-body"),x=u("v-form-textarea"),p=u("v-form-checkbox"),R=u("v-button"),O=u("v-form");return f(),_(O,{class:"h-full",onSubmit:F(C.submitForm,["prevent"])},{default:r(()=>[i("div",B,[i("div",null,[e(c,{class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6"},{default:r(()=>[e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Referral Date")]),_:1}),e(y,{type:"date",modelValue:l.form.referral_date,"onUpdate:modelValue":o[0]||(o[0]=t=>l.form.referral_date=t),error:l.form.errors.referral_date,disabled:l.form.processing},null,8,["modelValue","error","disabled"]),l.form.errors.referral_date?(f(),_(V,{key:0},{default:r(()=>[s(v(l.form.errors.referral_date),1)]),_:1})):g("",!0)]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Referral Status")]),_:1}),e(m,{options:d.referralStatuses.data.map(t=>({label:t.name,value:t.referral_status_id})),error:l.form.errors.referral_status_id,disabled:l.form.processing,required:!0,modelValue:l.form.referral_status_id,"onUpdate:modelValue":o[1]||(o[1]=t=>l.form.referral_status_id=t)},null,8,["options","error","disabled","modelValue"]),l.form.errors.referral_status_id?(f(),_(V,{key:0},{default:r(()=>[s(v(l.form.errors.referral_status_id),1)]),_:1})):g("",!0)]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Referral State")]),_:1}),e(m,{options:(d.referralStates||d.states).data.map(t=>({label:t.name,value:t.state_id})),error:l.form.errors.state_id,disabled:l.form.processing,required:!0,modelValue:l.form.state_id,"onUpdate:modelValue":o[2]||(o[2]=t=>l.form.state_id=t)},null,8,["options","error","disabled","modelValue"]),l.form.errors.state_id?(f(),_(V,{key:0},{default:r(()=>[s(v(l.form.errors.state_id),1)]),_:1})):g("",!0)]),_:1}),e(S,{attorneys:d.attorneys,doctors:d.doctors,"document-categories":d.documentCategories,form:l.form,"medical-specialties":d.medicalSpecialties,patients:d.patients,"referral-reasons":d.referralReasons,"referral-statuses":d.referralStatuses,states:d.states},null,8,["attorneys","doctors","document-categories","form","medical-specialties","patients","referral-reasons","referral-statuses","states"])]),_:1})]),i("div",null,[e(c,{class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6"},{default:r(()=>[e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Piloting Physician")]),_:1}),e(m,{items:d.doctors,"item-value":"id","item-text":"name",label:"Piloting Physician (Optional)",dense:"",outlined:"",modelValue:l.form.piloting_physician_id,"onUpdate:modelValue":o[3]||(o[3]=t=>l.form.piloting_physician_id=t)},null,8,["items","modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Attorney")]),_:1}),e(m,{items:d.attorneys,"item-value":"id","item-text":"name",label:"Attorney",dense:"",outlined:"",modelValue:l.form.attorney_id,"onUpdate:modelValue":o[4]||(o[4]=t=>l.form.attorney_id=t)},null,8,["items","modelValue"])]),_:1})]),_:1})]),i("div",null,[e(c,{class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6"},{default:r(()=>[e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("CPT Codes")]),_:1}),e(x,{label:"CPT Codes",dense:"",outlined:"",modelValue:l.form.cpt_codes,"onUpdate:modelValue":o[5]||(o[5]=t=>l.form.cpt_codes=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Service Billed")]),_:1}),e(y,{type:"number",label:"Service Billed",dense:"",outlined:"",modelValue:l.form.service_billed,"onUpdate:modelValue":o[6]||(o[6]=t=>l.form.service_billed=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Generate CMS1500 Invoice?")]),_:1}),e(p,{label:"CMS1500 Generated",modelValue:l.form.is_cms1500_generated,"onUpdate:modelValue":o[7]||(o[7]=t=>l.form.is_cms1500_generated=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Billing Type")]),_:1}),e(m,{items:["LOP","Insurance"],label:"Billing Type",dense:"",outlined:"",modelValue:l.form.billing_type,"onUpdate:modelValue":o[8]||(o[8]=t=>l.form.billing_type=t)},null,8,["modelValue"])]),_:1})]),_:1})]),i("div",null,[e(c,{class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6"},{default:r(()=>[e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Case Won")]),_:1}),e(p,{label:"Case Won",modelValue:l.form.case_won,"onUpdate:modelValue":o[9]||(o[9]=t=>l.form.case_won=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Outcome")]),_:1}),e(x,{label:"Outcome",dense:"",outlined:"",modelValue:l.form.outcome,"onUpdate:modelValue":o[10]||(o[10]=t=>l.form.outcome=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Reduction Accepted")]),_:1}),e(p,{label:"Reduction Accepted",modelValue:l.form.reduction_accepted,"onUpdate:modelValue":o[11]||(o[11]=t=>l.form.reduction_accepted=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:r(()=>[e(a,null,{default:r(()=>[s("Is Case Closed?")]),_:1}),e(p,{label:"Is Closed",modelValue:l.form.is_closed,"onUpdate:modelValue":o[12]||(o[12]=t=>l.form.is_closed=t),onChange:C.handleCloseChange},null,8,["modelValue","onChange"])]),_:1}),l.form.is_closed?(f(),_(n,{key:0},{default:r(()=>[e(a,null,{default:r(()=>[s("Closed At")]),_:1}),e(y,{type:"datetime-local",label:"Closed At",dense:"",outlined:"",modelValue:l.form.closed_at,"onUpdate:modelValue":o[13]||(o[13]=t=>l.form.closed_at=t)},null,8,["modelValue"])]),_:1})):g("",!0)]),_:1})]),i("div",T,[e(R,{color:"primary",dark:"",type:"submit"},{default:r(()=>[s("Create Case")]),_:1})])])]),_:1},8,["onSubmit"])}const G=P(A,[["render",D]]);export{G as C};
