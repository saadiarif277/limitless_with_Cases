import{L as A}from"./index-C99Ts5PX.js";import{r as n,o as s,c as o,a,g as c,w as t,F as u,b as l,d as h,i as V,e as b,t as i}from"./app-BXgbEd8A.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-ENtOGCbS.js";const I={layout:A,props:{referrals:{type:Object,required:!1,default:()=>{}},referralStatuses:{type:Object,required:!1,default:()=>{}},links:{type:Object,required:!1,default:()=>{}}},data(){return{columns:{referral_id:{label:"Reference",align:"right"},referral_date:{label:"Referral Date"},patient_user:{label:"Patient"},attorney_user:{label:"Attorney",formatter:r=>r.attorney_user.name},doctor_user:{label:"Doctor",formatter:r=>r.doctor_user.name},clinic:{label:"Clinic & Appointment"},referral_status_id:{label:"Status",formatter:r=>r.referral_status.name}}}},methods:{selectReferralStatusId(r=void 0){this.$inertia.get(route(route().current()),{...this.$page.props.query,referralStatusId:r,page:void 0},{preserveState:!0,preserveScroll:!0})}}},x={class:"h-full flex flex-col"},B={key:1,class:"italic"},z={class:"flex items-center"},L=c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4 mr-1"},[c("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})],-1);function M(r,f,d,N,g,p){const y=n("v-inertia-head"),k=n("v-button"),w=n("v-section-heading"),m=n("v-content-body"),v=n("v-horizontal-menu-item"),S=n("v-horizontal-menu"),_=n("v-link"),C=n("v-app-model-table");return s(),o(u,null,[a(y,{title:"Referral Management"}),c("div",x,[a(m,{class:"border-b border-gray-200"},{default:t(()=>[a(w,null,{title:t(()=>[l(" Referrals ")]),description:t(()=>[l(" Manage referrals available in the application. ")]),actions:t(()=>[a(k,{href:r.route("panel.user.referrals.create")},{default:t(()=>[l(" Create Referral ")]),_:1},8,["href"])]),_:1})]),_:1}),a(m,{class:"border-b border-gray-200"},{default:t(()=>[a(S,{class:"grid grid-cols-2 sm:grid-cols-4 xl:grid-cols-8 gap-2"},{default:t(()=>[a(v,{href:"#",active:!r.$page.props.query.referralStatusId,onClick:f[0]||(f[0]=h(e=>p.selectReferralStatusId(),["stop"]))},{default:t(()=>[l(" All Referrals ")]),_:1},8,["active"]),(s(!0),o(u,null,V(d.referralStatuses.data,(e,R)=>(s(),b(v,{key:"referralStatus_"+R,href:"#",active:r.$page.props.query.referralStatusId==e.referral_status_id,onClick:h(j=>p.selectReferralStatusId(e.referral_status_id),["stop"])},{default:t(()=>[l(i(e.name),1)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1}),a(C,{columns:g.columns,data:d.referrals.data,links:d.referrals.links,meta:d.referrals.meta},{column_referral_id:t(({row:e})=>[a(_,{href:r.route("panel.user.referrals.show",{referral:e.referral_id}),class:"font-semibold"},{default:t(()=>[l(" REF#"+i(e.referral_id),1)]),_:2},1032,["href"])]),column_patient_user:t(({row:e})=>[c("div",null,[a(_,{href:r.route("panel.user.patients.show",{user:e.patient_user.user_id}),class:"font-semibold"},{default:t(()=>[l(i(e.patient_user.name),1)]),_:2},1032,["href"])])]),column_clinic:t(({row:e})=>[e.clinic?(s(),o(u,{key:0},[l(i(e.clinic.name),1)],64)):(s(),o("span",B,"No Clinic")),c("div",z,[L,!e.appointment||!e.appointment.start_date?(s(),b(_,{key:0,href:r.route("panel.user.appointments.create",{referral_id:e.referral_id})},{default:t(()=>[l(" Create Appointment ")]),_:2},1032,["href"])):(s(),o(u,{key:1},[l(i(e.appointment_start_date),1)],64))])]),_:1},8,["columns","data","links","meta"])])],64)}const $=q(I,[["render",M]]);export{$ as default};
