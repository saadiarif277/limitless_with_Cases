import{L as q}from"./index-Duaj8_el.js";import{T as z,r as d,o as m,c as h,a as o,g as k,w as r,F as y,b as s,t as a,d as x,f,e as u}from"./app-DsmlTcIo.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-CyOa9RUd.js";const U={name:"LawFirmsCreateEdit",layout:q,props:{lawFirm:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}}},data(){return{form:z({name:"",email:"",phone_number:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",price_read:"",price_scan:""})}},watch:{lawFirm:{handler(l){!l||!l.data||(this.form.name=l.data.name,this.form.email=l.data.email,this.form.phone_number=l.data.phone_number,this.form.address_line_1=l.data.address_line_1,this.form.address_line_2=l.data.address_line_2,this.form.city=l.data.city,this.form.state_id=l.data.state_id,this.form.zip_code=l.data.zip_code,this.form.price_read=l.data.price_read,this.form.price_scan=l.data.price_scan)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.lawFirm&&this.lawFirm.data&&this.lawFirm.data.law_firm_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.admin.law-firms.store"),{onSuccess:()=>this.$toast().success("Law firm created successfully!"),onError:l=>{Object.keys(l).forEach(t=>{const n=l[t];this.$toast().error(n)})}})},updateRequest(){this.form.patch(this.route("panel.admin.law-firms.update",{law_firm:this.lawFirm.data.law_firm_id}),{onSuccess:()=>this.$toast().success("Law firm updated successfully!"),onError:l=>{Object.keys(l).forEach(t=>{const n=l[t];this.$toast().error(n)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((l,t)=>{this.form.delete(this.route("panel.admin.law-firms.destroy",{lawFirm:this.lawFirm.data.law_firm_id}),{onSuccess:()=>{this.$toast().success("Law firm deleted successfully!"),l()},onError:n=>{Object.keys(n).forEach(w=>{const e=n[w];this.$toast().error(e)}),t()}})}))}}},j={class:"h-full flex flex-col"},N={key:0,class:"flex gap-2"},R={class:"col-span-full grid grid-cols-1 md:grid-cols-6 xl:grid-cols-12 gap-x-6 gap-y-4"},O=["value"];function B(l,t,n,w,e,F){const v=d("v-inertia-head"),g=d("v-button"),C=d("v-section-heading"),V=d("v-content-body"),c=d("v-form-label"),b=d("v-form-input"),p=d("v-form-error"),_=d("v-form-group"),E=d("v-form-select"),L=d("v-form");return m(),h(y,null,[o(v,{title:n.lawFirm?`Editing '${n.lawFirm.data.name}' lawFirm.`:"Create Law Firm"},null,8,["title"]),k("div",j,[o(V,{class:"border-b border-gray-200"},{default:r(()=>[o(C,null,{title:r(()=>[n.lawFirm?(m(),h(y,{key:1},[s(" Editing '"+a(n.lawFirm.data.name)+"' lawFirm. ",1)],64)):(m(),h(y,{key:0},[s(" Create Law Firm ")],64))]),description:r(()=>[n.lawFirm?(m(),h(y,{key:1},[s(" Change and/or modify the details for the lawFirm. ")],64)):(m(),h(y,{key:0},[s(" Fill up the form below to create a new law firm for the application. ")],64))]),actions:r(()=>[n.lawFirm?(m(),h("div",N,[o(g,{color:"danger",disabled:e.form.processing,onClick:x(F.deleteRequest,["stop"])},{default:r(()=>[s(" Delete Law Firm ")]),_:1},8,["disabled","onClick"])])):f("",!0)]),_:1})]),_:1}),o(V,null,{default:r(()=>[o(L,{class:"grid grid-cols-1 sm:grid-cols-3 gap-6",onSubmit:x(F.submitForm,["prevent"])},{default:r(()=>[o(_,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Name")]),_:1}),o(b,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=i=>e.form.name=i),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.name),1)]),_:1})):f("",!0)]),_:1}),o(_,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Email")]),_:1}),o(b,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=i=>e.form.email=i),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.email),1)]),_:1})):f("",!0)]),_:1}),o(_,null,{default:r(()=>[o(c,null,{default:r(()=>[s("Phone Number")]),_:1}),o(b,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":t[2]||(t[2]=i=>e.form.phone_number=i),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.phone_number),1)]),_:1})):f("",!0)]),_:1}),k("div",R,[o(_,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(c,null,{default:r(()=>[s("Address Line 1 ")]),_:1}),o(b,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":t[3]||(t[3]=i=>e.form.address_line_1=i),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.address_line_1),1)]),_:1})):f("",!0)]),_:1}),o(_,{class:"col-span-full md:col-span-3"},{default:r(()=>[o(c,null,{default:r(()=>[s("Address Line 2")]),_:1}),o(b,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":t[4]||(t[4]=i=>e.form.address_line_2=i),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.address_line_2),1)]),_:1})):f("",!0)]),_:1}),o(_,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("City")]),_:1}),o(b,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":t[5]||(t[5]=i=>e.form.city=i),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.city),1)]),_:1})):f("",!0)]),_:1}),o(_,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("State")]),_:1}),o(E,{options:n.states.data.map(i=>({label:i.name,value:i.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":t[6]||(t[6]=i=>e.form.state_id=i)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.state_id),1)]),_:1})):f("",!0)]),_:1}),o(_,{class:"col-span-full md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[s("Zip Code")]),_:1}),o(b,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":t[7]||(t[7]=i=>e.form.zip_code=i),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(m(),u(p,{key:0},{default:r(()=>[s(a(e.form.errors.zip_code),1)]),_:1})):f("",!0)]),_:1})]),o(_,{class:"col-span-full flex items-center justify-end gap-2 text-right border-t border-gray-200 py-6"},{default:r(()=>[e.form.progress?(m(),h("progress",{key:0,value:e.form.progress.percentage,max:"100"},a(e.form.progress.percentage)+"% ",9,O)):f("",!0),o(g,{href:l.route("panel.admin.law-firms.index"),color:"white",disabled:e.form.processing},{default:r(()=>[s(" Cancel ")]),_:1},8,["href","disabled"]),n.lawFirm?(m(),u(g,{key:2,disabled:e.form.processing},{default:r(()=>[s(" Save Changes ")]),_:1},8,["disabled"])):(m(),u(g,{key:1,disabled:e.form.processing},{default:r(()=>[s(" Create Law Firm ")]),_:1},8,["disabled"]))]),_:1})]),_:1},8,["onSubmit"])]),_:1})])],64)}const M=S(U,[["render",B]]);export{M as default};
