import{L as M}from"./index-BkP0jPDe.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as w,c as x,a as e,g as F,w as t,F as V,b as a,t as B}from"./app-Bi_K_mTy.js";import"./_user-menu-BSju8n0v.js";const D={layout:M,props:{CptCodes:{type:[Object,Array],required:!0,default:()=>[]}},data(){return{showModal:!1,bulkFile:null,columns:{code:{label:"Cpt Code"},description:{label:"Description"},default_value:{label:"Cost (Pricing)"},created_at:{label:"Created At"}}}},methods:{formatDate(n){try{return format(new Date(n),"yyyy-MM-dd HH:mm")}catch{return n}},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},submitBulkUpload(){if(!this.bulkFile){this.$toast.error("Please select a file.");return}const n=new FormData;n.append("file",this.bulkFile),this.$inertia.post(route("panel.admin.cptcodes.bulk-upload"),n,{onSuccess:()=>{this.closeModal(),this.$toast.success("Data Imported successfully!")},onError:l=>{this.closeModal(),l.file?this.$toast.error(l.file[0]):this.$toast.error("Failed to upload file.")}})}}},U={class:"h-full flex flex-col"};function L(n,l,d,P,s,i){const _=o("v-inertia-head"),r=o("v-button"),p=o("v-section-heading"),m=o("v-content-body"),f=o("v-app-model-table"),C=o("v-card-title"),v=o("v-file-input"),b=o("v-card-text"),u=o("v-btn"),h=o("v-card-actions"),k=o("v-card"),y=o("v-dialog");return w(),x(V,null,[e(_,{title:"Cpt Codes List"}),F("div",U,[e(m,{class:"border-b border-gray-200"},{default:t(()=>[e(p,null,{title:t(()=>[a(" Cpt Codes Listing ")]),description:t(()=>[a(" Manage CPT Codes available in the application. ")]),actions:t(()=>[e(r,{href:n.route("panel.admin.cptcodes.create"),class:"mr-2"},{default:t(()=>[a(" Create Cpt Code ")]),_:1},8,["href"]),e(r,{onClick:i.openModal,class:"ml-1"},{default:t(()=>[a(" Upload in Bulk ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(f,{columns:s.columns,data:d.CptCodes.data||d.CptCodes,links:d.CptCodes.links||[],meta:d.CptCodes.meta||[]},{column_id:t(({row:c})=>[a(B(c.code),1)]),_:1},8,["columns","data","links","meta"]),e(y,{modelValue:s.showModal,"onUpdate:modelValue":l[1]||(l[1]=c=>s.showModal=c),"max-width":"450"},{default:t(()=>[e(k,{class:"pa-4"},{default:t(()=>[e(C,{class:"text-h5 text-center"},{default:t(()=>[a("Upload CPT Codes in Bulk")]),_:1}),e(b,{class:"mt-2"},{default:t(()=>[e(v,{modelValue:s.bulkFile,"onUpdate:modelValue":l[0]||(l[0]=c=>s.bulkFile=c),label:"Select CSV File",accept:".csv",required:"",outlined:"",dense:""},null,8,["modelValue"])]),_:1}),e(h,{class:"justify-end"},{default:t(()=>[e(u,{onClick:i.submitBulkUpload,color:"primary"},{default:t(()=>[a("Upload")]),_:1},8,["onClick"]),e(u,{onClick:i.closeModal,color:"grey darken-1"},{default:t(()=>[a("Cancel")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}const q=g(D,[["render",L]]);export{q as default};
