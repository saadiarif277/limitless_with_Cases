import{L as M}from"./index-Duaj8_el.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as x,c as y,a as e,w as o,b as l,t as V}from"./app-DsmlTcIo.js";import"./_user-menu-CyOa9RUd.js";const g={layout:M,props:{ictCodes:{type:[Object,Array],required:!0,default:()=>[]}},data(){return{showModal:!1,bulkFile:null,columns:{code:{label:"ICT Code"},description:{label:"Description"},created_at:{label:"Created At"}}}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1},submitBulkUpload(){if(!this.bulkFile){this.$toast.error("Please select a file.");return}const s=new FormData;s.append("file",this.bulkFile),this.$inertia.post(route("panel.admin.ictcodes.bulk-upload"),s,{onSuccess:()=>{this.closeModal(),this.$toast().success("Date Imported successfully!")},onError:()=>{this.closeModal(),this.$toast().error("Failed to upload file.")}})}}},F={class:"h-full flex flex-col"};function I(s,c,d,U,a,r){const i=t("v-button"),u=t("v-section-heading"),_=t("v-content-body"),p=t("v-app-model-table"),m=t("v-card-title"),f=t("v-file-input"),v=t("v-card-text"),C=t("v-spacer"),b=t("v-card-actions"),h=t("v-card"),k=t("v-dialog");return x(),y("div",F,[e(_,{class:"border-b border-gray-200"},{default:o(()=>[e(u,null,{title:o(()=>[l(" ICT Codes Listing ")]),description:o(()=>[l(" Manage ICT Codes available in the application. ")]),actions:o(()=>[e(i,{href:s.route("panel.admin.ictcodes.create"),class:"mr-2"},{default:o(()=>[l(" Create ICT Code ")]),_:1},8,["href"]),e(i,{onClick:r.openModal,class:"ml-1"},{default:o(()=>[l(" Upload in Bulk ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(p,{columns:a.columns,data:d.ictCodes.data||d.ictCodes,links:d.ictCodes.links||[],meta:d.ictCodes.meta||[]},{column_id:o(({row:n})=>[l(V(n.code),1)]),_:1},8,["columns","data","links","meta"]),e(k,{modelValue:a.showModal,"onUpdate:modelValue":c[1]||(c[1]=n=>a.showModal=n),"max-width":"500"},{default:o(()=>[e(h,null,{default:o(()=>[e(m,null,{default:o(()=>[l("Upload ICT Codes in Bulk")]),_:1}),e(v,null,{default:o(()=>[e(f,{modelValue:a.bulkFile,"onUpdate:modelValue":c[0]||(c[0]=n=>a.bulkFile=n),label:"Select CSV File",accept:".csv",required:""},null,8,["modelValue"])]),_:1}),e(b,null,{default:o(()=>[e(C),e(i,{onClick:r.submitBulkUpload},{default:o(()=>[l("Upload")]),_:1},8,["onClick"]),e(i,{onClick:r.closeModal},{default:o(()=>[l("Cancel")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const S=w(g,[["render",I],["__scopeId","data-v-a867dffb"]]);export{S as default};
