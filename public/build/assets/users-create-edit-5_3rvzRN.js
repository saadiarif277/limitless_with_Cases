import{L}from"./index-CUO78Va1.js";import{T as R,r as g,o as t,c as b,a as l,g as y,w as r,F as h,b as o,t as n,d as j,f as u,e as m,i as z}from"./app-BXgbEd8A.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_user-menu-ENtOGCbS.js";const B={name:"UsersCreateEdit",layout:L,props:{clinics:{type:Object,required:!1,default:()=>{}},lawFirms:{type:Object,required:!1,default:()=>{}},medicalSpecialties:{type:Object,required:!1,default:()=>{}},roles:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}},user:{type:Object,required:!1,default:()=>{}}},data(){return{form:R({name:"",email:"",phone_number:"",birthdate:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",gender:"",height:"",weight:"",password:"",password_confirmation:"",role_names:[],clinic_ids:[],law_firm_id:"",medical_specialty_id:""})}},watch:{user:{handler(d){!d||!d.data||(this.form.name=d.data.name,this.form.email=d.data.email,this.form.phone_number=d.data.phone_number,this.form.birthdate=d.data.birthdate,this.form.address_line_1=d.data.address_line_1,this.form.address_line_2=d.data.address_line_2,this.form.city=d.data.city,this.form.state_id=d.data.state_id,this.form.zip_code=d.data.zip_code,this.form.gender=d.data.gender,this.form.height=d.data.height,this.form.weight=d.data.weight,this.form.role_names=d.data.roles,this.form.clinic_ids=d.data.clinic_ids,this.form.law_firm_id=d.data.law_firm_id,this.form.medical_specialty_id=d.data.medical_specialty_id)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.user&&this.user.data&&this.user.data.user_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.admin.users.store"),{onSuccess:()=>this.$toast().success("User created successfully!"),onError:d=>{Object.keys(d).forEach(i=>{const f=d[i];this.$toast().error(f)})}})},updateRequest(){this.form.patch(this.route("panel.admin.users.update",{user:this.user.data.user_id}),{onSuccess:()=>this.$toast().success("User updated successfully!"),onError:d=>{Object.keys(d).forEach(i=>{const f=d[i];this.$toast().error(f)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((d,i)=>{this.form.delete(this.route("panel.admin.users.destroy",{user:this.user.data.user_id}),{onSuccess:()=>{this.$toast().success("User deleted successfully!"),d()},onError:f=>{Object.keys(f).forEach(E=>{const e=f[E];this.$toast().error(e)}),i()}})}))}}},P={class:"h-full flex flex-col"},M={key:0,class:"flex gap-2"},A={class:"col-span-full"},I={class:"col-span-full"},D={class:"col-span-full"},G={class:"col-span-full"},H={class:"col-span-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-6 gap-y-4"},T={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},K={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},W=["value"];function Z(d,i,f,E,e,q){const O=g("v-inertia-head"),v=g("v-button"),w=g("v-section-heading"),V=g("v-content-body"),_=g("v-form-label"),p=g("v-form-input"),c=g("v-form-error"),a=g("v-form-group"),k=g("v-card"),x=g("v-form-select"),S=g("v-form-checkbox"),F=g("v-form");return t(),b(h,null,[l(O,{title:f.user?`Editing '${f.user.data.name}' user.`:"Create User"},null,8,["title"]),y("div",P,[l(V,{class:"border-b border-gray-200"},{default:r(()=>[l(w,null,{title:r(()=>[f.user?(t(),b(h,{key:1},[o(" Editing '"+n(f.user.data.name)+"' user. ",1)],64)):(t(),b(h,{key:0},[o(" Create User ")],64))]),description:r(()=>[f.user?(t(),b(h,{key:1},[o(" Change and/or modify the details for the user. ")],64)):(t(),b(h,{key:0},[o(" Fill up the form below to create a new user for the application. ")],64))]),actions:r(()=>[f.user?(t(),b("div",M,[l(v,{color:"danger",disabled:e.form.processing,onClick:j(q.deleteRequest,["stop"])},{default:r(()=>[o(" Delete User ")]),_:1},8,["disabled","onClick"])])):u("",!0)]),_:1})]),_:1}),l(V,null,{default:r(()=>[l(F,{class:"grid grid-cols-1 md:grid-cols-2 gap-6",onSubmit:j(q.submitForm,["prevent"])},{default:r(()=>[l(k,{class:"col-span-full"},{default:r(()=>[l(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[y("div",A,[l(w,null,{title:r(()=>[o(" General Information ")]),_:1})]),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Name")]),_:1}),l(p,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":i[0]||(i[0]=s=>e.form.name=s),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.name),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Email")]),_:1}),l(p,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":i[1]||(i[1]=s=>e.form.email=s),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.email),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Phone Number")]),_:1}),l(p,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":i[2]||(i[2]=s=>e.form.phone_number=s),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.phone_number),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Birthdate")]),_:1}),l(p,{type:"date",modelValue:e.form.birthdate,"onUpdate:modelValue":i[3]||(i[3]=s=>e.form.birthdate=s),error:e.form.errors.birthdate,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.birthdate?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.birthdate),1)]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),l(k,{class:"col-span-full overflow-visible relative isolate"},{default:r(()=>[l(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-6 xl:grid-cols-12 gap-x-6 gap-y-4 overflow-visible"},{default:r(()=>[y("div",I,[l(w,null,{title:r(()=>[o(" Location Information ")]),_:1})]),l(a,{class:"col-span-full md:col-span-3"},{default:r(()=>[l(_,null,{default:r(()=>[o("Address Line 1")]),_:1}),l(p,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":i[4]||(i[4]=s=>e.form.address_line_1=s),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.address_line_1),1)]),_:1})):u("",!0)]),_:1}),l(a,{class:"col-span-full md:col-span-3"},{default:r(()=>[l(_,null,{default:r(()=>[o("Address Line 2")]),_:1}),l(p,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":i[5]||(i[5]=s=>e.form.address_line_2=s),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.address_line_2),1)]),_:1})):u("",!0)]),_:1}),l(a,{class:"col-span-full md:col-span-2"},{default:r(()=>[l(_,null,{default:r(()=>[o("City")]),_:1}),l(p,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":i[6]||(i[6]=s=>e.form.city=s),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.city),1)]),_:1})):u("",!0)]),_:1}),l(a,{class:"col-span-full md:col-span-2 overflow-visible relative isolate"},{default:r(()=>[l(_,null,{default:r(()=>[o("State")]),_:1}),l(x,{options:f.states.data.map(s=>({label:s.name,value:s.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":i[7]||(i[7]=s=>e.form.state_id=s),class:"relative z-[9999]","dropdown-class":"!fixed z-[9999] min-w-[300px]"},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.state_id),1)]),_:1})):u("",!0)]),_:1}),l(a,{class:"col-span-full md:col-span-2"},{default:r(()=>[l(_,null,{default:r(()=>[o("Zip Code")]),_:1}),l(p,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":i[8]||(i[8]=s=>e.form.zip_code=s),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.zip_code),1)]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),l(k,{class:"col-span-full"},{default:r(()=>[l(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-3 xl:grid-cols-6 gap-x-6 gap-y-4"},{default:r(()=>[y("div",D,[l(w,null,{title:r(()=>[o(" Personal Health Information ")]),_:1})]),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Gender")]),_:1}),l(x,{options:[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],error:e.form.errors.gender,disabled:e.form.processing,modelValue:e.form.gender,"onUpdate:modelValue":i[9]||(i[9]=s=>e.form.gender=s)},null,8,["error","disabled","modelValue"]),e.form.errors.gender?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.gender),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Height (Meters)")]),_:1}),l(p,{type:"text",modelValue:e.form.height,"onUpdate:modelValue":i[10]||(i[10]=s=>e.form.height=s),error:e.form.errors.height,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.height?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.height),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Weight (Kgs)")]),_:1}),l(p,{type:"text",modelValue:e.form.weight,"onUpdate:modelValue":i[11]||(i[11]=s=>e.form.weight=s),error:e.form.errors.weight,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.weight?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.weight),1)]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),l(k,{class:"col-span-full"},{default:r(()=>[l(V,{class:"col-span-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[y("div",G,[l(w,null,{title:r(()=>[o(" Access & Security ")]),_:1})]),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Password")]),_:1}),l(p,{type:"password",modelValue:e.form.password,"onUpdate:modelValue":i[12]||(i[12]=s=>e.form.password=s),error:e.form.errors.password,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.password),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Password Confirmation")]),_:1}),l(p,{type:"password",modelValue:e.form.password_confirmation,"onUpdate:modelValue":i[13]||(i[13]=s=>e.form.password_confirmation=s),error:e.form.errors.password_confirmation,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password_confirmation?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.password_confirmation),1)]),_:1})):u("",!0)]),_:1}),y("div",H,[l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Law Firm")]),_:1}),l(x,{options:f.lawFirms.data.map(s=>({label:s.name,value:s.law_firm_id})),error:e.form.errors.law_firm_id,disabled:e.form.processing,modelValue:e.form.law_firm_id,"onUpdate:modelValue":i[14]||(i[14]=s=>e.form.law_firm_id=s)},null,8,["options","error","disabled","modelValue"]),e.form.errors.law_firm_id?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.law_firm_id),1)]),_:1})):u("",!0)]),_:1}),l(a,null,{default:r(()=>[l(_,null,{default:r(()=>[o("Medical Specialty")]),_:1}),l(x,{options:f.medicalSpecialties.data.map(s=>({label:s.name,value:s.medical_specialty_id})),error:e.form.errors.medical_specialty_id,disabled:e.form.processing,modelValue:e.form.medical_specialty_id,"onUpdate:modelValue":i[15]||(i[15]=s=>e.form.medical_specialty_id=s)},null,8,["options","error","disabled","modelValue"]),e.form.errors.medical_specialty_id?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.medical_specialty_id),1)]),_:1})):u("",!0)]),_:1})]),l(a,{class:"col-span-full"},{default:r(()=>[l(_,null,{default:r(()=>[o("Roles")]),_:1}),y("div",T,[(t(!0),b(h,null,z(f.roles.data,(s,U)=>(t(),m(S,{key:"role_"+U,modelValue:e.form.role_names,"onUpdate:modelValue":i[16]||(i[16]=C=>e.form.role_names=C),value:s.name,disabled:e.form.processing},{default:r(()=>[o(n(s.name),1)]),_:2},1032,["modelValue","value","disabled"]))),128))]),e.form.errors.roles?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.roles),1)]),_:1})):u("",!0)]),_:1}),l(a,{class:"col-span-full"},{default:r(()=>[l(_,null,{default:r(()=>[o("Clinics")]),_:1}),y("div",K,[(t(!0),b(h,null,z(f.clinics.data,(s,U)=>(t(),m(S,{key:"role_"+U,modelValue:e.form.clinic_ids,"onUpdate:modelValue":i[17]||(i[17]=C=>e.form.clinic_ids=C),value:s.clinic_id,disabled:e.form.processing},{default:r(()=>[o(n(s.name),1)]),_:2},1032,["modelValue","value","disabled"]))),128))]),e.form.errors.roles?(t(),m(c,{key:0},{default:r(()=>[o(n(e.form.errors.roles),1)]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),l(a,{class:"col-span-full flex items-center justify-end gap-2 text-right border-t border-gray-200 py-6"},{default:r(()=>[e.form.progress?(t(),b("progress",{key:0,value:e.form.progress.percentage,max:"100"},n(e.form.progress.percentage)+"% ",9,W)):u("",!0),l(v,{href:d.route("panel.admin.users.index"),color:"white",disabled:e.form.processing},{default:r(()=>[o(" Cancel ")]),_:1},8,["href","disabled"]),f.user?(t(),m(v,{key:2,disabled:e.form.processing},{default:r(()=>[o(" Save Changes ")]),_:1},8,["disabled"])):(t(),m(v,{key:1,disabled:e.form.processing},{default:r(()=>[o(" Create User ")]),_:1},8,["disabled"]))]),_:1})]),_:1},8,["onSubmit"])]),_:1})])],64)}const $=N(B,[["render",Z]]);export{$ as default};
